<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>

    <record id="view_quan_ly_phong_hop_form" model="ir.ui.view">
      <field name="name">quan_ly_phong_hop_form</field>
      <field name="model">quan_ly_phong_hop</field>
      <field name="arch" type="xml">
        <form string="üìã Chi ti·∫øt Ph√≤ng H·ªçp">
          <sheet>

            <group col="2">
              <group>
                <separator string="üîπ Th√¥ng tin chung" colspan="2"/>
                <field name="name"/>
                <field name="loai_phong"/>
                <field name="suc_chua"/>
                <field name="active"/>
                <field name="trang_thai" readonly="1"/>
              </group>
            </group>

            <notebook>
              <page string="üìÖ L·ªãch ƒë·∫∑t ph√≤ng">
                <field name="lich_dat_phong_ids" readonly="1">
                  <tree>
                    <field name="nguoi_muon_id" string="üë§ Ng∆∞·ªùi m∆∞·ª£n"/>
                    <field name="thoi_gian_muon_du_kien" string="‚è≥ M∆∞·ª£n d·ª± ki·∫øn"/>
                    <field name="thoi_gian_tra_du_kien" string="üîÑ Tr·∫£ d·ª± ki·∫øn"/>
                    <field name="trang_thai" string="üìå Tr·∫°ng th√°i"/>
                  </tree>
                </field>
              </page>

              <!-- ƒê√öNG NGHƒ®A: l·ªãch s·ª≠ m∆∞·ª£n tr·∫£ theo ng√†y/ph√≤ng -->
              <page string="üìú L·ªãch s·ª≠ m∆∞·ª£n tr·∫£">
                <field name="lich_su_muon_tra_ids" readonly="1">
                  <tree>
                    <field name="ngay_su_dung"/>
                    <field name="tong_thoi_gian_su_dung"/>
                  </tree>
                </field>
              </page>

              <!-- Audit log ri√™ng -->
              <page string="üßæ Audit log">
                <field name="audit_ids" readonly="1">
                  <tree>
                    <field name="ngay_thay_doi"/>
                    <field name="dat_phong_id"/>
                    <field name="nguoi_muon_id"/>
                    <field name="hanh_dong"/>
                    <field name="trang_thai_truoc"/>
                    <field name="trang_thai_sau"/>
                    <field name="nguoi_thuc_hien_user_id"/>
                  </tree>
                </field>
              </page>

              <page string="üñ•Ô∏è Thi·∫øt b·ªã trong ph√≤ng">
                <field name="thiet_bi_ids" readonly="1">
                  <tree>
                    <field name="name" string="üìå T√™n thi·∫øt b·ªã"/>
                    <field name="loai_thiet_bi" string="üì¶ Lo·∫°i thi·∫øt b·ªã"/>
                    <field name="trang_thai" string="üîÑ Tr·∫°ng th√°i"/>
                    <field name="vi_tri_hien_tai"/>
                    <field name="phong_hien_tai_id"/>
                  </tree>
                </field>
              </page>
            </notebook>

          </sheet>
        </form>
      </field>
    </record>

    <record id="view_quan_ly_phong_hop_tree" model="ir.ui.view">
      <field name="name">quan_ly_phong_hop_tree</field>
      <field name="model">quan_ly_phong_hop</field>
      <field name="arch" type="xml">
        <tree string="üìã Danh s√°ch Ph√≤ng H·ªçp">
          <field name="name" string="üè¢ T√™n ph√≤ng"/>
          <field name="loai_phong" string="üè∑ Lo·∫°i ph√≤ng"/>
          <field name="suc_chua" string="üë• S·ª©c ch·ª©a"/>
          <field name="trang_thai" string="üìå Tr·∫°ng th√°i"
                 decoration-muted="trang_thai=='trong'"
                 decoration-success="trang_thai=='da_muon'"
                 decoration-danger="trang_thai=='dang_su_dung'"/>
          <field name="active" string="ƒêang ho·∫°t ƒë·ªông"/>
        </tree>
      </field>
    </record>

    <record id="view_quan_ly_phong_hop_search" model="ir.ui.view">
      <field name="name">quan_ly_phong_hop_search</field>
      <field name="model">quan_ly_phong_hop</field>
      <field name="arch" type="xml">
        <search string="üîç T√¨m ki·∫øm ph√≤ng h·ªçp">
          <field name="name"/>
          <field name="loai_phong"/>
          <field name="trang_thai"/>
          <separator/>
          <filter string="ƒêang ho·∫°t ƒë·ªông" name="filter_active" domain="[('active','=',True)]"/>
          <filter string="ƒê√£ ƒë√≥ng" name="filter_inactive" domain="[('active','=',False)]"/>
        </search>
      </field>
    </record>

    <record id="action_quan_ly_phong_hop" model="ir.actions.act_window">
      <field name="name">üìã Danh s√°ch ph√≤ng h·ªçp</field>
      <field name="res_model">quan_ly_phong_hop</field>
      <field name="view_mode">tree,form</field>
      <field name="search_view_id" ref="view_quan_ly_phong_hop_search"/>
      <field name="domain">[('active','=',True)]</field>
    </record>

  </data>
</odoo>
